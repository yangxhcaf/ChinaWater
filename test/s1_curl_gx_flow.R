url_root <- "http://slt.gxzf.gov.cn:9000/page/index.html?act=3"
p <- GET(url_root) %>% content()

url <- "http://222.216.6.171:3379/arcgis/rest/services/gxsh/mapCommon/MapServer/12/query?where=1%3D1&text=&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&f=pjson"

params <- getFormParams(url) %>% as.list()
p <- POST("http://222.216.6.171:3379/arcgis/rest/services/gxsh/mapCommon/MapServer/12/query",
          body = params, encode = "form") %>% content()

p1 <- GET("http://slt.gxzf.gov.cn:9000/gxsl/japi/api/sl323/realtime/river/") %>% content()
p1 <- GET("http://slt.gxzf.gov.cn:9000/gxsl/japi/api/sl323/realtime/river?time=2019-03-05") %>% content()

write_xml(p, "a.html")

p1 <- GET("http://slt.gxzf.gov.cn:9000/gxsl/japi/api/sl323/realtime/river?time=2018-03-06") %>% content()
p1$result[[1]] %>% as.data.frame()

x1 <- GET("http://slt.gxzf.gov.cn:9000/gxsl/japi/api/sl323/realtime/river/gcx/80805600") %>% content()
a <- x1$result %>% purrr::transpose() %>% as.data.table()
print(a)
